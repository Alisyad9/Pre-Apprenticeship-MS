<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real world fetch</title>
  </head>
  <body>
    <form>
      <h1>Pokemon search</h1>
      <label for="searchLabel">search:</label><br />

      <input id="search" /><br />

      <!-- <label for="lname">email</label><br /> -->
      <!-- 
      <input type="email" id="email" /><br /><br /> -->
      <button type="submit">submit</button>
    </form>
    <!-- <form>
      <label for="name">Name</label>
      <input id="name" />

      <label for="email">Email</label>
      <input type="email" id="email" />

      <button type="submit">Log in</button>
    </form> -->

    <script>
      // fetch("https://echo.oliverjam.workers.dev/status/404")
      //   .then(console.log)
      //   .catch(console.error);

      // fetch("https://echo.oliverjam.workers.dev/status/404",)
      //   .then((response) => {
      //     if (!response.ok) {
      //       throw new Error(response.status);
      //     }
      //     console.log(response)
      //     // return response.blob();
      //   })
      //   .catch(console.error);

      // // const data = { name: "oli" };
      // const myForm = document.querySelector("form");
      // myForm.addEventListener("submit", (event) => {
      //   event.preventDefault();
      //   const name = document.querySelector("#search").value;
      //   const password = document.querySelector("#email").value;
      //   const data = { name, email };

      //   fetch("https://echo.oliverjam.workers.dev/json", {
      //     method: "POST",
      //     body: JSON.stringify(data),
      //     headers: { "content-type": "application/json" },
      //   })
      //     .then((response) => {
      //       if (!response.ok) throw new Error(response.status);

      //       return response.json();
      //       // return response.blob();
      //     })
      //     .then((json) => console.log(json))
      //     .catch((error) => console.error(error));
      // });

      // const myForm = document.querySelector("form");

      // myForm.addEventListener("submit", (event) => {
      //   event.preventDefault();
      //   const formData = new FormData(myForm);
      //   const data = Object.fromEntries(formData);
      //   fetch("https://echo.oliverjam.workers.dev/json", {
      //     method: "POST",
      //     body: JSON.stringify(data),
      //     headers: { "content-type": "application/json" },
      //   })
      //     .then((response) => {
      //       if (!response.ok) throw new Error(response.status);

      //       return response.json();
      //       // return response.blob();
      //     })
      //     .then((json) => console.log(json))
      //     .catch((error) => console.error(error));
      // });

      //       Workshop
      // We’re going to make a Pokémon search page using the PokéAPI.

      const myForm = document.querySelector("form");
      myForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const name = document.querySelector("#search").value;

        function getPokimon(name) {
          fetch(`https://pokeapi.co/api/v2/pokemon/${name}`)
            .then((response) => {
              if (!response.ok) throw new Error(response.status);

              return response.json();
              // return response.blob();
            })
            .then((json) => console.log(json))
            .then((data) => {
              console.log(data);
            })
            .catch((error) => console.error(error));
        }
      });

      // getPokimon workshop

      // getPokimon("pikachu");
      // getPokimon("hitmonlee");
    </script>
  </body>
</html>
